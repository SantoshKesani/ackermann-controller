\hypertarget{classackermann_1_1_controller}{}\section{ackermann\+:\+:Controller Class Reference}
\label{classackermann_1_1_controller}\index{ackermann\+::\+Controller@{ackermann\+::\+Controller}}


Implementation of a steering and speed controller for a rover with an Ackermann steering mechanism.  




{\ttfamily \#include $<$Controller.\+hpp$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classackermann_1_1_controller_a4bf9f0657a103e0144ef14f9b8a7c96e}{Controller} (const std\+::shared\+\_\+ptr$<$ const \hyperlink{structackermann_1_1_params}{Params} $>$ \&params)
\begin{DoxyCompactList}\small\item\em Constructor; constructs and initializes parameters of all composition classes. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classackermann_1_1_controller_a65fb63861770f823cd30713833383aa6}\label{classackermann_1_1_controller_a65fb63861770f823cd30713833383aa6}} 
void \hyperlink{classackermann_1_1_controller_a65fb63861770f823cd30713833383aa6}{start} ()
\begin{DoxyCompactList}\small\item\em Begin execution of a control loop. \end{DoxyCompactList}\item 
void \hyperlink{classackermann_1_1_controller_a285777e5abee8b5ec7eb683410215a04}{stop} (bool block=false)
\begin{DoxyCompactList}\small\item\em Stop execution of a control loop and rejoin. This also calls \hyperlink{classackermann_1_1_controller_ab225ab7b942ed1590cc91b0343860924}{reset()} to clear any state variables. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classackermann_1_1_controller_ab225ab7b942ed1590cc91b0343860924}\label{classackermann_1_1_controller_ab225ab7b942ed1590cc91b0343860924}} 
void \hyperlink{classackermann_1_1_controller_ab225ab7b942ed1590cc91b0343860924}{reset} ()
\begin{DoxyCompactList}\small\item\em Clear system state variables. \end{DoxyCompactList}\item 
bool \hyperlink{classackermann_1_1_controller_ac42d34ea838ccf8e9f83199b5753c08e}{is\+Running} () const
\begin{DoxyCompactList}\small\item\em Return true if the core execution thread is running. This is a useful utility for testing. \end{DoxyCompactList}\item 
void \hyperlink{classackermann_1_1_controller_aee37f9adf9e8b2ec31499c8f7838531d}{set\+State} (const double speed, const double heading)
\begin{DoxyCompactList}\small\item\em Set the current state (speed, heading) of the system. \end{DoxyCompactList}\item 
void \hyperlink{classackermann_1_1_controller_a6a282c7083ce5a240d5e8e71782cb106}{get\+State} (double \&speed, double \&heading) const
\begin{DoxyCompactList}\small\item\em Get the current state (speed, heading) of the system; return as parameters specified. \end{DoxyCompactList}\item 
void \hyperlink{classackermann_1_1_controller_a2c048f93364371bb99445b68cb4ad064}{set\+Goal} (const double speed, const double heading)
\begin{DoxyCompactList}\small\item\em Set the current system setpoint (speed, heading). \end{DoxyCompactList}\item 
void \hyperlink{classackermann_1_1_controller_ad768d0fdc4ad85510ba90af05ef6e4c4}{get\+Goal} (double \&speed, double \&heading) const
\begin{DoxyCompactList}\small\item\em Get the current system setpoint (speed, heading); return as parameters specified. \end{DoxyCompactList}\item 
void \hyperlink{classackermann_1_1_controller_a4af9cff4fa372a7bd245fe50aaf05859}{get\+Command} (double \&throttle, double \&steering) const
\begin{DoxyCompactList}\small\item\em Get the current system command (speed, heading); return as parameters specified. \end{DoxyCompactList}\item 
void \hyperlink{classackermann_1_1_controller_ab1831f2b1e80c29e5d110c55e11e2d2e}{get\+Wheel\+Lin\+Vel} (double \&left\+\_\+front, double \&right\+\_\+front, double \&left\+\_\+rear, double \&right\+\_\+rear) const
\begin{DoxyCompactList}\small\item\em Get the current system wheel speeds; return as parameters specified. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Implementation of a steering and speed controller for a rover with an Ackermann steering mechanism. 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classackermann_1_1_controller_a4bf9f0657a103e0144ef14f9b8a7c96e}\label{classackermann_1_1_controller_a4bf9f0657a103e0144ef14f9b8a7c96e}} 
\index{ackermann\+::\+Controller@{ackermann\+::\+Controller}!Controller@{Controller}}
\index{Controller@{Controller}!ackermann\+::\+Controller@{ackermann\+::\+Controller}}
\subsubsection{\texorpdfstring{Controller()}{Controller()}}
{\footnotesize\ttfamily ackermann\+::\+Controller\+::\+Controller (\begin{DoxyParamCaption}\item[{const std\+::shared\+\_\+ptr$<$ const \hyperlink{structackermann_1_1_params}{Params} $>$ \&}]{params }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



Constructor; constructs and initializes parameters of all composition classes. 


\begin{DoxyParams}{Parameters}
{\em params} & Shared pointer detailing rover characteristic parameters \\
\hline
\end{DoxyParams}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=342pt]{classackermann_1_1_controller_a4bf9f0657a103e0144ef14f9b8a7c96e_cgraph}
\end{center}
\end{figure}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classackermann_1_1_controller_a4af9cff4fa372a7bd245fe50aaf05859}\label{classackermann_1_1_controller_a4af9cff4fa372a7bd245fe50aaf05859}} 
\index{ackermann\+::\+Controller@{ackermann\+::\+Controller}!get\+Command@{get\+Command}}
\index{get\+Command@{get\+Command}!ackermann\+::\+Controller@{ackermann\+::\+Controller}}
\subsubsection{\texorpdfstring{get\+Command()}{getCommand()}}
{\footnotesize\ttfamily void ackermann\+::\+Controller\+::get\+Command (\begin{DoxyParamCaption}\item[{double \&}]{throttle,  }\item[{double \&}]{steering }\end{DoxyParamCaption}) const}



Get the current system command (speed, heading); return as parameters specified. 

This represents the main point of access for a polling architecture, i.\+e. an external control loop would periodically update the controller with the true system state and request command updates.


\begin{DoxyParams}{Parameters}
{\em throttle} & The latest throttle command (limited between \mbox{[}0,1\mbox{]}). \\
\hline
{\em steering} & The latest steering angle command (rad). \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classackermann_1_1_controller_ad768d0fdc4ad85510ba90af05ef6e4c4}\label{classackermann_1_1_controller_ad768d0fdc4ad85510ba90af05ef6e4c4}} 
\index{ackermann\+::\+Controller@{ackermann\+::\+Controller}!get\+Goal@{get\+Goal}}
\index{get\+Goal@{get\+Goal}!ackermann\+::\+Controller@{ackermann\+::\+Controller}}
\subsubsection{\texorpdfstring{get\+Goal()}{getGoal()}}
{\footnotesize\ttfamily void ackermann\+::\+Controller\+::get\+Goal (\begin{DoxyParamCaption}\item[{double \&}]{speed,  }\item[{double \&}]{heading }\end{DoxyParamCaption}) const}



Get the current system setpoint (speed, heading); return as parameters specified. 


\begin{DoxyParams}{Parameters}
{\em heading} & The current vehicle heading setpoint (rad). \\
\hline
{\em speed} & The current vehicle speed setpoint (m/s). \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classackermann_1_1_controller_a6a282c7083ce5a240d5e8e71782cb106}\label{classackermann_1_1_controller_a6a282c7083ce5a240d5e8e71782cb106}} 
\index{ackermann\+::\+Controller@{ackermann\+::\+Controller}!get\+State@{get\+State}}
\index{get\+State@{get\+State}!ackermann\+::\+Controller@{ackermann\+::\+Controller}}
\subsubsection{\texorpdfstring{get\+State()}{getState()}}
{\footnotesize\ttfamily void ackermann\+::\+Controller\+::get\+State (\begin{DoxyParamCaption}\item[{double \&}]{speed,  }\item[{double \&}]{heading }\end{DoxyParamCaption}) const}



Get the current state (speed, heading) of the system; return as parameters specified. 


\begin{DoxyParams}{Parameters}
{\em heading} & The estimated vehicle heading (rad). \\
\hline
{\em speed} & The estimated vehicle speed (m/s). \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classackermann_1_1_controller_ab1831f2b1e80c29e5d110c55e11e2d2e}\label{classackermann_1_1_controller_ab1831f2b1e80c29e5d110c55e11e2d2e}} 
\index{ackermann\+::\+Controller@{ackermann\+::\+Controller}!get\+Wheel\+Lin\+Vel@{get\+Wheel\+Lin\+Vel}}
\index{get\+Wheel\+Lin\+Vel@{get\+Wheel\+Lin\+Vel}!ackermann\+::\+Controller@{ackermann\+::\+Controller}}
\subsubsection{\texorpdfstring{get\+Wheel\+Lin\+Vel()}{getWheelLinVel()}}
{\footnotesize\ttfamily void ackermann\+::\+Controller\+::get\+Wheel\+Lin\+Vel (\begin{DoxyParamCaption}\item[{double \&}]{left\+\_\+front,  }\item[{double \&}]{right\+\_\+front,  }\item[{double \&}]{left\+\_\+rear,  }\item[{double \&}]{right\+\_\+rear }\end{DoxyParamCaption}) const}



Get the current system wheel speeds; return as parameters specified. 


\begin{DoxyParams}{Parameters}
{\em left\+\_\+front} & The left front wheel velocity (m/s). \\
\hline
{\em right\+\_\+front} & The right front wheel velocity (m/s). \\
\hline
{\em left\+\_\+rear} & The left rear wheel velocity (m/s). \\
\hline
{\em right\+\_\+rear} & The right rear wheel velocity (m/s). \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classackermann_1_1_controller_ac42d34ea838ccf8e9f83199b5753c08e}\label{classackermann_1_1_controller_ac42d34ea838ccf8e9f83199b5753c08e}} 
\index{ackermann\+::\+Controller@{ackermann\+::\+Controller}!is\+Running@{is\+Running}}
\index{is\+Running@{is\+Running}!ackermann\+::\+Controller@{ackermann\+::\+Controller}}
\subsubsection{\texorpdfstring{is\+Running()}{isRunning()}}
{\footnotesize\ttfamily bool ackermann\+::\+Controller\+::is\+Running (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Return true if the core execution thread is running. This is a useful utility for testing. 

\begin{DoxyReturn}{Returns}
\+: Whether or not the core control loop is executing. 
\end{DoxyReturn}
\mbox{\Hypertarget{classackermann_1_1_controller_a2c048f93364371bb99445b68cb4ad064}\label{classackermann_1_1_controller_a2c048f93364371bb99445b68cb4ad064}} 
\index{ackermann\+::\+Controller@{ackermann\+::\+Controller}!set\+Goal@{set\+Goal}}
\index{set\+Goal@{set\+Goal}!ackermann\+::\+Controller@{ackermann\+::\+Controller}}
\subsubsection{\texorpdfstring{set\+Goal()}{setGoal()}}
{\footnotesize\ttfamily void ackermann\+::\+Controller\+::set\+Goal (\begin{DoxyParamCaption}\item[{const double}]{speed,  }\item[{const double}]{heading }\end{DoxyParamCaption})}



Set the current system setpoint (speed, heading). 

This sets a new target for our control loop. Expected usage is to call this method before calling \textquotesingle{}start\textquotesingle{}, although concurrent execution is supported.


\begin{DoxyParams}{Parameters}
{\em heading} & The desired vehicle heading (rad). \\
\hline
{\em speed} & The desired vehicle speed (m/s). \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classackermann_1_1_controller_aee37f9adf9e8b2ec31499c8f7838531d}\label{classackermann_1_1_controller_aee37f9adf9e8b2ec31499c8f7838531d}} 
\index{ackermann\+::\+Controller@{ackermann\+::\+Controller}!set\+State@{set\+State}}
\index{set\+State@{set\+State}!ackermann\+::\+Controller@{ackermann\+::\+Controller}}
\subsubsection{\texorpdfstring{set\+State()}{setState()}}
{\footnotesize\ttfamily void ackermann\+::\+Controller\+::set\+State (\begin{DoxyParamCaption}\item[{const double}]{speed,  }\item[{const double}]{heading }\end{DoxyParamCaption})}



Set the current state (speed, heading) of the system. 

This represents an update from external sensors as to our true system state. If this is not called the controller will continue open loop.


\begin{DoxyParams}{Parameters}
{\em heading} & The actual vehicle heading (rad) \\
\hline
{\em speed} & The actual vehicle speed (m/s). \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classackermann_1_1_controller_a285777e5abee8b5ec7eb683410215a04}\label{classackermann_1_1_controller_a285777e5abee8b5ec7eb683410215a04}} 
\index{ackermann\+::\+Controller@{ackermann\+::\+Controller}!stop@{stop}}
\index{stop@{stop}!ackermann\+::\+Controller@{ackermann\+::\+Controller}}
\subsubsection{\texorpdfstring{stop()}{stop()}}
{\footnotesize\ttfamily void ackermann\+::\+Controller\+::stop (\begin{DoxyParamCaption}\item[{bool}]{block = {\ttfamily false} }\end{DoxyParamCaption})}



Stop execution of a control loop and rejoin. This also calls \hyperlink{classackermann_1_1_controller_ab225ab7b942ed1590cc91b0343860924}{reset()} to clear any state variables. 

@ param block\+: Optionally wait for any running thread to rejoin. Default false. Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=342pt]{classackermann_1_1_controller_a285777e5abee8b5ec7eb683410215a04_icgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/\hyperlink{_controller_8hpp}{Controller.\+hpp}\item 
app/Controller.\+cpp\end{DoxyCompactItemize}
